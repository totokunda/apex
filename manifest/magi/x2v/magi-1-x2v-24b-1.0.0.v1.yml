api_version: apex/v1
kind: Model
metadata:
  name: MAGI 1 X2V 24B
  version: 1.0.0
  description: MAGI 1 X2V 24B is a 24B parameter model for any-to-video generation.
  tags:
  - magi
  - x2v
  - 24b
spec:
  engine: magi
  model_type:
  - t2v
  - i2v
  - v2v
  engine_type: torch
  denoise_type: base
  components:
  - type: text_encoder
    name: magi/text_encoder
    base: T5EncoderModel
    model_path: tolgacangoz/MAGI-1-T2V-4.5B-distill-Diffusers/text_encoder
    tokenizer_class: T5Tokenizer
    tokenizer_name: tolgacangoz/MAGI-1-T2V-4.5B-distill-Diffusers
    tokenizer_kwargs:
      subfolder: tokenizer
  - type: vae
    name: magi/vae
    base: magi
    model_path: sand-ai/MAGI-1/ckpt/vae
    config_path: vae_configs/magi/magi.json
  - type: transformer
    base: magi.base
    model_path: sand-ai/MAGI-1/ckpt/magi/24B_distill/inference_weight.distill
    config_path: transformer_configs/magi/magi_24b.json
  - type: scheduler
    base: src.scheduler.magi.MagiScheduler
    config:
      shift: 3.0
      scheduler_type: sd3
      shortcut_mode: 16,16,8
  defaults:
    run:
      num_inference_steps: 16
      cfg_number: 1
      distill: true
      return_latents: false
      text_encoder_kwargs:
        max_sequence_length: 800
        pad_to_max_length: true
        use_mask_in_input: true
        pad_with_zero: false
        lower_case: true
      offload: true
      render_on_step: false
  save:
    safe_serialization: true
    max_shard_size: 5GB
